/*	-WHAT IS THIS?-
	This file adds optional material to "MPMB's Character Record Sheet" found at https://flapkan.com/mpmb/charsheets
	Import this file using the "Add Extra Materials" bookmark.

	-KEEP IN MIND-
	It is recommended to enter the code in a fresh sheet before adding any other information (i.e. before making your character with it).
*/

/*  -INFORMATION-
	Subject:    Class (Subclass Supplement)
	Effect:     Adds additional Shamanic Calling options ("Speaker" subclasses) for the Shaman class by Michael Wolf (DMs Guild)
	Author:     DruidAllanon42
	Repository: https://github.com/DruidAllanon42
	Version:    0.1.0
	Date:       2026-01-10

	Credits:
	- Original Shaman class: Michael Wolf
	- Original transcription for MPMB: Derek, Fourleafclov, and MorePurpleMoreBetter
	- This supplement (additional subclasses): DruidAllanon42
*/

var iFileName = "Shaman - Speakers Supplemental [by DruidAllanon42].js";
RequiredSheetVersion(12.999);

// add homebrew source (DruidAllanon42)
SourceList["DA42:SS"] = {
	name : "DruidAllanon42: Shaman Speaker Supplement",
	abbreviation : "DA42:SS",
	group : "Homebrew",
	url : "https://github.com/DruidAllanon42",
	date : "2026/01/10"
};
// ---- Hook: add new Speakers to the existing Shaman class (if present) ----
if (ClassList["shaman"] && ClassList["shaman"].subclasses && ClassList["shaman"].subclasses[1]) {
	var shamanSubs = ClassList["shaman"].subclasses[1];
	if (shamanSubs.indexOf("shaman-speaker of the veil") === -1) shamanSubs.push("shaman-speaker of the veil");
	// Add future speakers here as you create them:
	// if (shamanSubs.indexOf("shaman-speaker of mist") === -1) shamanSubs.push("shaman-speaker of mist");
}
// ============================================================================
// Speaker of the Veil (Shamanic Calling)
// Author: DruidAllanon42
// ============================================================================

ClassSubList["shaman-speaker of the veil"] = {
	regExpSearch : /^(?=.*speaker)(?=.*veil).*$/i,
	subname : "Speaker of the Veil",
	source : ["DA42:SS", 1],

	// Calling Spells (always prepared)
	spellcastingExtra : [
		"false life", "protection from evil and good",
		"gentle repose", "blur",
		"feign death", "spirit guardians",
		"etherealness", "death ward",
		"negative energy flood", "antilife shell"
	],

	features : {

		// 1st-level feature
		"subclassfeature1" : {
			name : "Blessings of the Veil",
			source : ["DA42:SS", 1],
			minlevel : 1,

			skills : ["Insight"],
			skillstxt : "\n\n" + toUni("Blessings of the Veil") + ": Insight.",

			description : desc([
				"I learn the Spare the Dying, Toll the Dead, and Thaumaturgy cantrips as shaman cantrips",
				"I gain proficiency in Insight",
				"I can tell if a creature I can see within 30 ft is alive, undead, or neither (e.g. construct)"
			]),

			spellcastingBonus : [{
				name : "Blessings of the Veil",
				spells : ["spare the dying", "toll the dead", "thaumaturgy"],
				selection : ["spare the dying", "toll the dead", "thaumaturgy"],
				times : 3
			}]
		},

		// 1st-level feature (secondary)
		"subclassfeature1.1" : {
			name : "Veilspeaker",
			source : ["DA42:SS", 1],
			minlevel : 1,
			description : desc([
				"As an action, I focus on a corpse, grave, dying creature, or a location where a creature died within 24 hours",
				"I may ask the attending spirits three questions about identity/emotion, circumstances of death, or direction of departure",
				"Spirits answer truthfully but symbolically; once used on a creature or location, I can't use it there again until a long rest"
			]),
			action : [["action", ""]]
		},

		// 6th-level feature
		"subclassfeature6" : {
			name : "Step Beyond",
			source : ["DA42:SS", 1],
			minlevel : 6,
			description : desc([
				"As a reaction when hit by an attack I can see, I partially phase until the start of my next turn",
				"I gain resistance to the triggering attack's damage",
				"I can move through creatures and objects as difficult terrain",
				"If I end my movement inside an object, I'm shunted to the nearest empty space and take force damage equal to my Cha modifier"
			]),
			usages : 1,
			recovery : "short rest",
			action : [["reaction", ""]]
		},

		// 10th-level feature
		"subclassfeature10" : {
			name : "Half-Seen, Half-Remembered",
			source : ["DA42:SS", 1],
			minlevel : 10,
			description : desc([
				"I have advantage on saving throws against being frightened or charmed",
				"Invisible and ethereal creatures within 30 ft can't gain advantage on attack rolls against me",
				"I can perceive the presence (but not exact location) of incorporeal creatures within 30 ft"
			]),
			savetxt : {
				adv_vs : ["being frightened", "being charmed"]
			}
		},

		// 14th-level feature
		"subclassfeature14" : {
			name : "Bearer of the Crossing",
			source : ["DA42:SS", 1],
			minlevel : 14,
			description : desc([
				"Once per long rest, as an action, I create a Crossing at a point I can see within 30 ft for 1 minute",
				"I and allied creatures within 10 ft can move through creatures and objects as difficult terrain",
				"Opportunity attacks against creatures benefiting from the Crossing are made with disadvantage",
				"If a creature drops to 0 HP within the Crossing, it immediately stabilizes",
				"When the Crossing ends, any creature inside an object is safely shunted to the nearest open space"
			]),
			usages : 1,
			recovery : "long rest",
			action : [["action", ""]]
		}
	}
};
if (shamanSubs.indexOf("shaman-speaker of mist") === -1) shamanSubs.push("shaman-speaker of mist");

// ============================================================================
// Speaker of Mist (Shamanic Calling)
// Author: DruidAllanon42
// ============================================================================

ClassSubList["shaman-speaker of mist"] = {
	regExpSearch : /^(?=.*speaker)(?=.*mist).*$/i,
	subname : "Speaker of Mist",
	source : ["DA42:SS", 2],

	// Calling Spells (always prepared)
	// Theme: concealment, misdirection, slipping away, fog-as-spirit
	spellcastingExtra : [
		"fog cloud", "disguise self",
		"misty step", "pass without trace",
		"gaseous form", "major image",
		"greater invisibility", "hallucinatory terrain",
		"mislead", "seeming"
	],

	features : {

		// 1st-level feature
		"subclassfeature1" : {
			name : "Blessings of Mist",
			source : ["DA42:SS", 2],
			minlevel : 1,

			skills : ["Stealth"],
			skillstxt : "\n\n" + toUni("Blessings of Mist") + ": Stealth.",

			description : desc([
				"I learn the Minor Illusion, Fog Cloud, and Message cantrips as shaman cantrips",
				"I gain proficiency in Stealth"
			]),

			// NOTE: "fog cloud" is a 1st-level spell, not a cantrip.
			// If you'd rather keep this strict to cantrips only, swap Fog Cloud here for "gust" or "shape water".
			// MPMB will accept it as a bonus spell known; however, for consistency with other Speakers,
			// we will instead grant 3 cantrips below (Minor Illusion, Message, Prestidigitation).
			spellcastingBonus : [{
				name : "Blessings of Mist",
				spells : ["minor illusion", "message", "prestidigitation"],
				selection : ["minor illusion", "message", "prestidigitation"],
				times : 3
			}]
		},

		// 1st-level feature (secondary)
		"subclassfeature1.1" : {
			name : "Mistspeaker",
			source : ["DA42:SS", 2],
			minlevel : 1,
			description : desc([
				"As an action, I commune with mist, fog, or low cloud within 30 ft (or I exhale a thin veil of mist as part of this action)",
				"I may ask the mist three questions about what moved through it nearby within the last hour (DM adjudicates)",
				"The mist answers in impressions: silhouettes, direction, speed, and mood rather than exact detail",
				"Once I speak with mist in a specific 1-mile area, I can't do so again there for 24 hours"
			]),
			action : [["action", ""]]
		},

		// 6th-level feature
		"subclassfeature6" : {
			name : "Vanish Into Haze",
			source : ["DA42:SS", 2],
			minlevel : 6,
			description : desc([
				"As a reaction when I'm targeted by an attack or when I fail a Dex saving throw, I blur into mist",
				"I become lightly obscured until the start of my next turn and can move up to 10 ft without provoking opportunity attacks",
				"If the triggering effect was an attack roll, the attacker has disadvantage on that roll"
			]),
			usages : 1,
			recovery : "short rest",
			action : [["reaction", ""]]
		},

		// 10th-level feature
		"subclassfeature10" : {
			name : "Unfindable Shape",
			source : ["DA42:SS", 2],
			minlevel : 10,
			description : desc([
				"I have resistance to cold damage",
				"I have advantage on Stealth checks while lightly obscured, and I can attempt to hide when only lightly obscured",
				"Creatures don't gain advantage on attack rolls against me solely because they are unseen"
			]),
			dmgres : ["Cold"],
			skillstxt : "\n\n" + toUni("Unfindable Shape") + ": Adv. on Stealth checks while lightly obscured; can Hide while only lightly obscured."
		},

		// 14th-level feature
		"subclassfeature14" : {
			name : "Mistwalk",
			source : ["DA42:SS", 2],
			minlevel : 14,
			description : desc([
				"Once per long rest, as an action, I become a drifting mist for 1 minute (no concentration)",
				"During this time I have a flying speed equal to my walking speed and can move through spaces as narrow as 1 inch",
				"I can move through creatures and objects as difficult terrain; if I end inside an object, I'm shunted to the nearest empty space",
				"While Mistwa

if (shamanSubs.indexOf("shaman-speaker of mist") === -1) shamanSubs.push("shaman-speaker of mist");
// ============================================================================
// Speaker of Mist (Shamanic Calling)
// Author: DruidAllanon42
// ============================================================================

ClassSubList["shaman-speaker of mist"] = {
	regExpSearch : /^(?=.*speaker)(?=.*mist).*$/i,
	subname : "Speaker of Mist",
	source : ["DA42:SS", 2],

	// Calling Spells (always prepared)
	spellcastingExtra : [
		"fog cloud", "disguise self",
		"misty step", "pass without trace",
		"gaseous form", "major image",
		"greater invisibility", "hallucinatory terrain",
		"mislead", "seeming"
	],

	features : {

		"subclassfeature1" : {
			name : "Blessings of Mist",
			source : ["DA42:SS", 2],
			minlevel : 1,

			skills : ["Stealth"],
			skillstxt : "\n\n" + toUni("Blessings of Mist") + ": Stealth.",

			description : desc([
				"I learn the Minor Illusion, Message, and Prestidigitation cantrips as shaman cantrips",
				"I gain proficiency in Stealth"
			]),

			spellcastingBonus : [{
				name : "Blessings of Mist",
				spells : ["minor illusion", "message", "prestidigitation"],
				selection : ["minor illusion", "message", "prestidigitation"],
				times : 3
			}]
		},

		"subclassfeature1.1" : {
			name : "Mistspeaker",
			source : ["DA42:SS", 2],
			minlevel : 1,
			description : desc([
				"As an action, I commune with mist, fog, or low cloud within 30 ft (or draw forth a thin veil with my breath)",
				"I may ask the mist three questions about what moved through it nearby within the last hour (DM adjudicates)",
				"It answers in impressions (direction/number/speed/mood), not precise details",
				"Once I speak with mist in a specific 1-mile area, I can't do so again there until a long rest"
			]),
			action : [["action", ""]]
		},

		"subclassfeature6" : {
			name : "Vanish Into Haze",
			source : ["DA42:SS", 2],
			minlevel : 6,
			description : desc([
				"As a reaction when I'm targeted by an attack roll or when I fail a Dex saving throw, I blur into haze",
				"Until the start of my next turn, I'm lightly obscured and can move up to 10 ft without provoking opportunity attacks",
				"If the trigger was an attack roll, the attacker has disadvantage on that roll"
			]),
			usages : 1,
			recovery : "short rest",
			action : [["reaction", ""]]
		},

		"subclassfeature10" : {
			name : "Unfindable Shape",
			source : ["DA42:SS", 2],
			minlevel : 10,
			description : desc([
				"I have resistance to cold damage",
				"I have advantage on Stealth checks while lightly obscured, and I can attempt to hide while only lightly obscured",
				"Creatures don't gain advantage on attack rolls against me solely because they are unseen (e.g. invisible)"
			]),
			dmgres : ["Cold"],
			skillstxt : "\n\n" + toUni("Unfindable Shape") + ": Adv. on Stealth checks while lightly obscured; can Hide while only lightly obscured."
		},

		"subclassfeature14" : {
			name : "Mistwalk",
			source : ["DA42:SS", 2],
			minlevel : 14,
			description : desc([
				"Once per long rest, as an action, I become drifting mist for 1 minute (no concentration)",
				"I gain a flying speed equal to my walking speed and can move through spaces as narrow as 1 inch",
				"I can move through creatures/objects as difficult terrain; if I end inside an object, I'm shunted to the nearest empty space",
				"While Mistwalk lasts, I have resistance to nonmagical bludgeoning, piercing, and slashing damage"
			]),
			usages : 1,
			recovery : "long rest",
			action : [["action", ""]]
		}
	}
};
if (shamanSubs.indexOf("shaman-speaker of threads") === -1) shamanSubs.push("shaman-speaker of threads");
// ============================================================================
// Speaker of Threads (Shamanic Calling)
// Author: DruidAllanon42
// ============================================================================

ClassSubList["shaman-speaker of threads"] = {
	regExpSearch : /^(?=.*speaker)(?=.*threads).*$/i,
	subname : "Speaker of Threads",
	source : ["DA42:SS", 3],

	// Calling Spells (always prepared)
	spellcastingExtra : [
		"bane", "feather fall",
		"hold person", "silence",
		"bestow curse", "clairvoyance",
		"divination", "freedom of movement",
		"hold monster", "scrying"
	],

	features : {

		"subclassfeature1" : {
			name : "Blessings of Threads",
			source : ["DA42:SS", 3],
			minlevel : 1,

			description : desc([
				"I learn the Guidance, Resistance, and Mage Hand cantrips as shaman cantrips",
				"I gain proficiency in Insight or Perception (choose one)"
			]),

			// MPMB can't force a choose-one skill cleanly with a popup here, so we use text prompt.
			skillstxt : "\n\n" + toUni("Blessings of Threads") + ": Choose one from Insight or Perception.",

			spellcastingBonus : [{
				name : "Blessings of Threads",
				spells : ["guidance", "resistance", "mage hand"],
				selection : ["guidance", "resistance", "mage hand"],
				times : 3
			}]
		},

		"subclassfeature1.1" : {
			name : "Threadreader",
			source : ["DA42:SS", 3],
			minlevel : 1,
			description : desc([
				"As a reaction when a creature I can see within 60 ft makes an ability check, attack roll, or saving throw, I glimpse its thread",
				"I learn whether the roll had advantage, disadvantage, or neither, and whether magic is influencing it (DM gives yes/no)",
				"I can use this reaction a number of times equal to my Cha modifier (min 1), regaining all uses on a long rest"
			]),
			usages : "Cha mod",
			recovery : "long rest",
			action : [["reaction", ""]]
		},

		"subclassfeature6" : {
			name : "Tug the Thread",
			source : ["DA42:SS", 3],
			minlevel : 6,
			description : desc([
				"As a reaction when a creature I can see within 60 ft makes an attack roll, ability check, or saving throw, I add or subtract 1d4",
				"I choose after the roll but before the outcome is known",
				"I can use this feature a number of times equal to my proficiency bonus, regaining uses on a short or long rest"
			]),
			usages : "Proficiency bonus per ",
			recovery : "short rest",
			action : [["reaction", ""]]
		},

		"subclassfeature10" : {
			name : "Woven Reflex",
			source : ["DA42:SS", 3],
			minlevel : 10,
			description : desc([
				"I can't be surprised while I'm conscious",
				"When I use Tug the Thread, I may roll a d6 instead of a d4; once I do so, I can't do so again until a long rest"
			])
		},

		"subclassfeature14" : {
			name : "Cut the Knot",
			source : ["DA42:SS", 3],
			minlevel : 14,
			description : desc([
				"Once per long rest, as a reaction when I or an ally within 60 ft is hit by an attack or fails a saving throw, I sever the connection",
				"I force the attacker to reroll the attack roll or force the target to reroll the saving throw (my choice); the reroll must be used",
				"Then I or that ally can move up to 15 ft without provoking opportunity attacks"
			]),
			usages : 1,
			recovery : "long rest",
			action : [["reaction", ""]]
		}
	}
};
if (shamanSubs.indexOf("shaman-speaker of thorns") === -1) shamanSubs.push("shaman-speaker of thorns");
// ============================================================================
// Speaker of Thorns (Shamanic Calling)
// Author: DruidAllanon42
// ============================================================================

ClassSubList["shaman-speaker of thorns"] = {
	regExpSearch : /^(?=.*speaker)(?=.*thorns).*$/i,
	subname : "Speaker of Thorns",
	source : ["DA42:SS", 4],

	// Calling Spells (always prepared)
	spellcastingExtra : [
		"entangle", "sanctuary",
		"spike growth", "warding bond",
		"plant growth", "spirit shroud",
		"guardian of nature", "grasping vine",
		"antilife shell", "wall of thorns"
	],

	features : {

		"subclassfeature1" : {
			name : "Blessings of Thorns",
			source : ["DA42:SS", 4],
			minlevel : 1,

			skills : ["Nature"],
			skillstxt : "\n\n" + toUni("Blessings of Thorns") + ": Nature.",

			description : desc([
				"I learn the Thorn Whip, Druidcraft, and Primal Savagery cantrips as shaman cantrips",
				"I gain proficiency in Nature",
				"Difficult terrain created by nonmagical plants does not cost me extra movement"
			]),

			spellcastingBonus : [{
				name : "Blessings of Thorns",
				spells : ["thorn whip", "druidcraft", "primal savagery"],
				selection : ["thorn whip", "druidcraft", "primal savagery"],
				times : 3
			}]
		},

		"subclassfeature1.1" : {
			name : "Thornspeaker",
			source : ["DA42:SS", 4],
			minlevel : 1,
			description : desc([
				"As an action, I speak with a hedge, bramble, treeline, root network, or other natural boundary within 30 ft",
				"I may ask the thorn-spirits three questions about recent crossings/lingering, hostility/respect, and directions",
				"They answer in sensations (tension/tearing/pressure/calm), not exact words",
				"Once I speak with a specific boundary, I can't do so again until a long rest"
			]),
			action : [["action", ""]]
		},

		"subclassfeature6" : {
			name : "Barbed Reprisal",
			source : ["DA42:SS", 4],
			minlevel : 6,
			description : desc([
				"When a creature I can see within 30 ft moves willingly into/through difficult terrain or enters my reach without my consent, I can react",
				"It takes piercing damage equal to my Cha modifier and its speed is reduced by 10 ft until the end of its turn",
				"I can use this a number of times equal to my proficiency bonus, regaining uses on a short or long rest"
			]),
			usages : "Proficiency bonus per ",
			recovery : "short rest",
			action : [["reaction", ""]]
		},

		"subclassfeature10" : {
			name : "Living Boundary",
			source : ["DA42:SS", 4],
			minlevel : 10,
			description : desc([
				"I have resistance to piercing damage",
				"Creatures provoke opportunity attacks from me even if they take Disengage while within 10 ft of me, unless friendly to me",
				"When a hostile creature starts its turn within 10 ft of me, its speed is reduced by 10 ft until the start of its next turn"
			]),
			dmgres : ["Piercing"]
		},

		"subclassfeature14" : {
			name : "Crown of Briars",
			source : ["DA42:SS", 4],
			minlevel : 14,
			description : desc([
				"Once per long rest, as an action, I conjure a Briar Ward centered on me for 1 minute",
				"Hostiles treat the area within 20 ft as difficult terrain",
				"First time on each turn a hostile moves within the ward, it takes piercing damage equal to my proficiency bonus",
				"Allies within the ward have adv. on saves vs being grappled, restrained, or knocked prone"
			]),
			usages : 1,
			recovery : "long rest",
			action : [["action", ""]]
		}
	}
};
if (shamanSubs.indexOf("shaman-speaker of seasons") === -1) shamanSubs.push("shaman-speaker of seasons");
// ============================================================================
// Speaker of Seasons (Shamanic Calling)
// Author: DruidAllanon42
// ============================================================================

ClassSubList["shaman-speaker of seasons"] = {
	regExpSearch : /^(?=.*speaker)(?=.*seasons).*$/i,
	subname : "Speaker of Seasons",
	source : ["DA42:SS", 5],

	// Calling Spells (always prepared)
	spellcastingExtra : [
		"faerie fire", "absorb elements",
		"moonbeam", "enhance ability",
		"plant growth", "elemental weapon",
		"freedom of movement", "ice storm",
		"antilife shell", "control weather"
	],

	features : {

		// Level 1: choose Seasonal Aspect (grants cantrips + sets the baseline text)
		"subclassfeature1" : {
			name : "Blessings of Seasons",
			source : ["DA42:SS", 5],
			minlevel : 1,
			description : desc([
				"After each long rest, I adopt a Seasonal Aspect: Spring, Summer, Autumn, or Winter",
				"I learn three cantrips based on my current Aspect (see choice below); these count as shaman cantrips",
				"I gain proficiency in Nature or Survival (choose one; note it in the skills section)"
			]),
			skillstxt : "\n\n" + toUni("Blessings of Seasons") + ": Choose one from Nature or Survival.",
			choices : ["Spring Aspect", "Summer Aspect", "Autumn Aspect", "Winter Aspect"],

			"spring aspect" : {
				name : "Seasonal Aspect: Spring",
				source : ["DA42:SS", 5],
				description : desc([
					"Spring Boon: When I restore HP to a creature, it gains temp HP equal to my Cha modifier (once per turn)"
				]),
				spellcastingBonus : [{
					name : "Spring Aspect",
					spells : ["druidcraft", "guidance", "spare the dying"],
					selection : ["druidcraft", "guidance", "spare the dying"],
					times : 3
				}]
			},

			"summer aspect" : {
				name : "Seasonal Aspect: Summer",
				source : ["DA42:SS", 5],
				description : desc([
					"Summer Boon: When I deal spell damage, I can add my Cha modifier to one damage roll per turn"
				]),
				spellcastingBonus : [{
					name : "Summer Aspect",
					spells : ["produce flame", "create bonfire", "thaumaturgy"],
					selection : ["produce flame", "create bonfire", "thaumaturgy"],
					times : 3
				}]
			},

			"autumn aspect" : {
				name : "Seasonal Aspect: Autumn",
				source : ["DA42:SS", 5],
				description : desc([
					"Autumn Boon: I have advantage on Deception and Insight checks, and I can't be surprised while conscious"
				]),
				spellcastingBonus : [{
					name : "Autumn Aspect",
					spells : ["minor illusion", "vicious mockery", "mage hand"],
					selection : ["minor illusion", "vicious mockery", "mage hand"],
					times : 3
				}]
			},

			"winter aspect" : {
				name : "Seasonal Aspect: Winter",
				source : ["DA42:SS", 5],
				description : desc([
					"Winter Boon: I gain resistance to cold damage",
					"Winter Boon: Hostile creatures within 10 ft treat the area as difficult terrain the first time each turn they enter it"
				]),
				spellcastingBonus : [{
					name : "Winter Aspect",
					spells : ["frostbite", "ray of frost", "resistance"],
					selection : ["frostbite", "ray of frost", "resistance"],
					times : 3
				}]
			}
		},

		// Level 6
		"subclassfeature6" : {
			name : "Turning of the Wheel",
			source : ["DA42:SS", 5],
			minlevel : 6,
			description : desc([
				"Once per short rest, as a bonus action, I can shift my Seasonal Aspect for 1 minute",
				"When I shift, I also gain an immediate effect based on the new season:",
				"Spring: I or an ally within 30 ft regains HP equal to 2d8 + Cha modifier",
				"Summer: One creature within 30 ft takes fire or radiant damage equal to 2d8 + Cha modifier",
				"Autumn: One creature within 30 ft must make a save or have disadvantage on attacks until end of its next turn",
				"Winter: I create a 10-ft-radius patch of numbing cold (difficult terrain) within 60 ft for 1 minute"
			]),
			usages : 1,
			recovery : "short rest",
			action : [["bonus action", ""]]
		},

		// Level 10
		"subclassfeature10" : {
			name : "Court of Seasons",
			source : ["DA42:SS", 5],
			minlevel : 10,
			description : desc([
				"While conscious, I project a 10-ft aura based on my current Seasonal Aspect:",
				"Spring: Allies have advantage vs poison/disease and regain +1d4 HP when they receive healing",
				"Summer: Allies have advantage on saving throws against being frightened",
				"Autumn: Enemies have disadvantage on Perception checks and can't benefit from being hidden from me",
				"Winter: Enemies have their speed reduced by 10 ft while in the aura (no save)"
			])
		},

		// Level 14
		"subclassfeature14" : {
			name : "Sovereign Cycle",
			source : ["DA42:SS", 5],
			minlevel : 14,
			description : desc([
				"Once per long rest, as an action, I invoke the Full Cycle for 1 minute",
				"At the start of each of my turns, I may change my Seasonal Aspect (no action)",
				"The first time each turn I change aspect, I trigger that season's Turning of the Wheel immediate effect (no bonus action)"
			]),
			usages : 1,
			recovery : "long rest",
			action : [["action", ""]]
		}
	}
};
if (shamanSubs.indexOf("shaman-speaker of glamour") === -1) shamanSubs.push("shaman-speaker of glamour");
// ============================================================================
// Speaker of Glamour (Shamanic Calling)
// Author: DruidAllanon42
// ============================================================================

ClassSubList["shaman-speaker of glamour"] = {
	regExpSearch : /^(?=.*speaker)(?=.*glamour).*$/i,
	subname : "Speaker of Glamour",
	source : ["DA42:SS", 6],

	// Calling Spells (always prepared)
	spellcastingExtra : [
		"charm person", "faerie fire",
		"enthrall", "calm emotions",
		"hypnotic pattern", "tongues",
		"compulsion", "charm monster",
		"modify memory", "seeming"
	],

	features : {

		// Level 1
		"subclassfeature1" : {
			name : "Blessings of Glamour",
			source : ["DA42:SS", 6],
			minlevel : 1,

			description : desc([
				"I learn the Friends, Thaumaturgy, and Minor Illusion cantrips as shaman cantrips",
				"I gain proficiency in Performance or Persuasion (choose one)"
			]),

			skillstxt : "\n\n" + toUni("Blessings of Glamour") + ": Choose one from Performance or Persuasion.",

			spellcastingBonus : [{
				name : "Blessings of Glamour",
				spells : ["friends", "thaumaturgy", "minor illusion"],
				selection : ["friends", "thaumaturgy", "minor illusion"],
				times : 3
			}]
		},

		// Level 1.1
		"subclassfeature1.1" : {
			name : "Glamourspeaker",
			source : ["DA42:SS", 6],
			minlevel : 1,

			description : desc([
				"As a bonus action, I heighten my presence toward one creature within 30 ft that can see and hear me",
				"Until the end of my next turn, that creature has disadvantage on the next Wis save it makes against a charm or fear effect I cause"
			]),

			usages : "Cha mod",
			recovery : "long rest",
			action : [["bonus action", ""]]
		},

		// Level 6
		"subclassfeature6" : {
			name : "Borrowed Radiance",
			source : ["DA42:SS", 6],
			minlevel : 6,

			description : desc([
				"When a creature within 30 ft fails a save against being charmed or frightened by me, I gain a benefit",
				"I choose either temp HP equal to my Cha mod + proficiency bonus, or advantage on my next attack roll or ability check",
				"I can gain this benefit once per turn"
			])
		},

		// Level 10
		"subclassfeature10" : {
			name : "Courtly Presence",
			source : ["DA42:SS", 6],
			minlevel : 10,

			description : desc([
				"I have advantage on saving throws against being charmed or frightened",
				"When a creature attempts to charm or frighten me and fails, I may use my reaction",
				"That creature must succeed on a Wis save or be charmed by me until the end of its next turn"
			]),

			action : [["reaction", ""]]
		},

		// Level 14
		"subclassfeature14" : {
			name : "Sovereign Allure",
			source : ["DA42:SS", 6],
			minlevel : 14,

			description : desc([
				"Once per long rest, as an action, I emanate an aura of undeniable presence for 1 minute",
				"Hostile creatures within 20 ft have disadvantage on saves against being charmed or frightened by me",
				"The first time a creature becomes charmed or frightened by me during this aura, it is incapacitated until the end of its next turn",
				"Creatures that succeed on a save against this aura are immune to it for 24 hours"
			]),

			usages : 1,
			recovery : "long rest",
			action : [["action", ""]]
		}
	}
};
// ============================================================================
// Speaker of Glamour (Shamanic Calling)
// Author: DruidAllanon42
// ============================================================================

ClassSubList["shaman-speaker of glamour"] = {
	regExpSearch : /^(?=.*speaker)(?=.*glamour).*$/i,
	subname : "Speaker of Glamour",
	source : ["DA42:SS", 6],

	// Calling Spells (always prepared)
	spellcastingExtra : [
		"charm person", "faerie fire",
		"enthrall", "calm emotions",
		"hypnotic pattern", "tongues",
		"compulsion", "charm monster",
		"modify memory", "seeming"
	],

	features : {

		// Level 1
		"subclassfeature1" : {
			name : "Blessings of Glamour",
			source : ["DA42:SS", 6],
			minlevel : 1,

			description : desc([
				"I learn the Friends, Thaumaturgy, and Minor Illusion cantrips as shaman cantrips",
				"I gain proficiency in Performance or Persuasion (choose one)"
			]),

			skillstxt : "\n\n" + toUni("Blessings of Glamour") + ": Choose one from Performance or Persuasion.",

			spellcastingBonus : [{
				name : "Blessings of Glamour",
				spells : ["friends", "thaumaturgy", "minor illusion"],
				selection : ["friends", "thaumaturgy", "minor illusion"],
				times : 3
			}]
		},

		// Level 1.1
		"subclassfeature1.1" : {
			name : "Glamourspeaker",
			source : ["DA42:SS", 6],
			minlevel : 1,

			description : desc([
				"As a bonus action, I heighten my presence toward one creature within 30 ft that can see and hear me",
				"Until the end of my next turn, that creature has disadvantage on the next Wis save it makes against a charm or fear effect I cause"
			]),

			usages : "Cha mod",
			recovery : "long rest",
			action : [["bonus action", ""]]
		},

		// Level 6
		"subclassfeature6" : {
			name : "Borrowed Radiance",
			source : ["DA42:SS", 6],
			minlevel : 6,

			description : desc([
				"When a creature within 30 ft fails a save against being charmed or frightened by me, I gain a benefit",
				"I choose either temp HP equal to my Cha mod + proficiency bonus, or advantage on my next attack roll or ability check",
				"I can gain this benefit once per turn"
			])
		},

		// Level 10
		"subclassfeature10" : {
			name : "Courtly Presence",
			source : ["DA42:SS", 6],
			minlevel : 10,

			description : desc([
				"I have advantage on saving throws against being charmed or frightened",
				"When a creature attempts to charm or frighten me and fails, I may use my reaction",
				"That creature must succeed on a Wis save or be charmed by me until the end of its next turn"
			]),

			action : [["reaction", ""]]
		},

		// Level 14
		"subclassfeature14" : {
			name : "Sovereign Allure",
			source : ["DA42:SS", 6],
			minlevel : 14,

			description : desc([
				"Once per long rest, as an action, I emanate an aura of undeniable presence for 1 minute",
				"Hostile creatures within 20 ft have disadvantage on saves against being charmed or frightened by me",
				"The first time a creature becomes charmed or frightened by me during this aura, it is incapacitated until the end of its next turn",
				"Creatures that succeed on a save against this aura are immune to it for 24 hours"
			]),

			usages : 1,
			recovery : "long rest",
			action : [["action", ""]]
		}
	}
};
// ============================================================================
// Speaker of Glamour (Shamanic Calling)
// Author: DruidAllanon42
// ============================================================================

ClassSubList["shaman-speaker of glamour"] = {
	regExpSearch : /^(?=.*speaker)(?=.*glamour).*$/i,
	subname : "Speaker of Glamour",
	source : ["DA42:SS", 6],

	// Calling Spells (always prepared)
	spellcastingExtra : [
		"charm person", "faerie fire",
		"enthrall", "calm emotions",
		"hypnotic pattern", "tongues",
		"compulsion", "charm monster",
		"modify memory", "seeming"
	],

	features : {

		// Level 1
		"subclassfeature1" : {
			name : "Blessings of Glamour",
			source : ["DA42:SS", 6],
			minlevel : 1,

			description : desc([
				"I learn the Friends, Thaumaturgy, and Minor Illusion cantrips as shaman cantrips",
				"I gain proficiency in Performance or Persuasion (choose one)"
			]),

			skillstxt : "\n\n" + toUni("Blessings of Glamour") + ": Choose one from Performance or Persuasion.",

			spellcastingBonus : [{
				name : "Blessings of Glamour",
				spells : ["friends", "thaumaturgy", "minor illusion"],
				selection : ["friends", "thaumaturgy", "minor illusion"],
				times : 3
			}]
		},

		// Level 1.1
		"subclassfeature1.1" : {
			name : "Glamourspeaker",
			source : ["DA42:SS", 6],
			minlevel : 1,

			description : desc([
				"As a bonus action, I heighten my presence toward one creature within 30 ft that can see and hear me",
				"Until the end of my next turn, that creature has disadvantage on the next Wis save it makes against a charm or fear effect I cause"
			]),

			usages : "Cha mod",
			recovery : "long rest",
			action : [["bonus action", ""]]
		},

		// Level 6
		"subclassfeature6" : {
			name : "Borrowed Radiance",
			source : ["DA42:SS", 6],
			minlevel : 6,

			description : desc([
				"When a creature within 30 ft fails a save against being charmed or frightened by me, I gain a benefit",
				"I choose either temp HP equal to my Cha mod + proficiency bonus, or advantage on my next attack roll or ability check",
				"I can gain this benefit once per turn"
			])
		},

		// Level 10
		"subclassfeature10" : {
			name : "Courtly Presence",
			source : ["DA42:SS", 6],
			minlevel : 10,

			description : desc([
				"I have advantage on saving throws against being charmed or frightened",
				"When a creature attempts to charm or frighten me and fails, I may use my reaction",
				"That creature must succeed on a Wis save or be charmed by me until the end of its next turn"
			]),

			action : [["reaction", ""]]
		},

		// Level 14
		"subclassfeature14" : {
			name : "Sovereign Allure",
			source : ["DA42:SS", 6],
			minlevel : 14,

			description : desc([
				"Once per long rest, as an action, I emanate an aura of undeniable presence for 1 minute",
				"Hostile creatures within 20 ft have disadvantage on saves against being charmed or frightened by me",
				"The first time a creature becomes charmed or frightened by me during this aura, it is incapacitated until the end of its next turn",
				"Creatures that succeed on a save against this aura are immune to it for 24 hours"
			]),

			usages : 1,
			recovery : "long rest",
			action : [["action", ""]]
		}
	}
};
if (shamanSubs.indexOf("shaman-speaker of masks") === -1) shamanSubs.push("shaman-speaker of masks");
// ============================================================================
// Speaker of Masks (Shamanic Calling)
// Author: DruidAllanon42
// ============================================================================

ClassSubList["shaman-speaker of masks"] = {
	regExpSearch : /^(?=.*speaker)(?=.*masks?).*$/i,
	subname : "Speaker of Masks",
	source : ["DA42:SS", 7],

	// Calling Spells (always prepared)
	spellcastingExtra : [
		"disguise self", "silent image",
		"alter self", "pass without trace",
		"nondetection", "feign death",
		"greater invisibility", "freedom of movement",
		"mislead", "seeming"
	],

	features : {

		// Level 1
		"subclassfeature1" : {
			name : "Blessings of Masks",
			source : ["DA42:SS", 7],
			minlevel : 1,
			description : desc([
				"I can cast Friends and Message at will, without expending spirit points",
				"I learn Disguise Self, which counts as a shaman spell for me",
				"I gain proficiency in Deception and choose one from Performance or Stealth"
			]),
			skills : ["Deception"],
			skillstxt : "\n\n" + toUni("Blessings of Masks") + ": Deception, and choose one from Performance or Stealth.",

			// At-will Friends + Message
			spellcastingBonus : [{
				name : "Blessings of Masks (at will)",
				spells : ["friends", "message"],
				selection : ["friends", "message"],
				atwill : true,
				times : 2
			}, {
				name : "Blessings of Masks",
				spells : ["disguise self"],
				selection : ["disguise self"],
				known : true
			}]
		},

		// Level 1.1
		"subclassfeature1.1" : {
			name : "Maskspeaker",
			source : ["DA42:SS", 7],
			minlevel : 1,
			description : desc([
				"After observing a humanoid for at least 1 minute, I can spend 10 minutes attuning to a Mask (a social role)",
				"While wearing a Mask: I have advantage on Cha checks to pass as that role",
				"Creatures have disadvantage on Insight checks to detect my deception",
				"This doesn't grant a physical disguise, mimicry of voice, or the creature's knowledge",
				"I can maintain only one Mask at a time; creating a new one ends the previous"
			]),
			action : [["action", " (attune: 10 min)"]]
		},

		// Level 6
		"subclassfeature6" : {
			name : "Courtly Poison",
			source : ["DA42:SS", 7],
			minlevel : 6,
			description : desc([
				"Once per turn, when I deal damage to a creature that is charmed by me, surprised by me, or unaware of my true intent",
				"I may deal extra poison or psychic damage (my choice) equal to my proficiency bonus",
				"This represents spiritual influence and courtly pressure, not a physical toxin"
			])
		},

		// Level 10
		"subclassfeature10" : {
			name : "Stolen Bearing",
			source : ["DA42:SS", 7],
			minlevel : 10,
			description : desc([
				"As a reaction when a creature I can see within 30 ft fails a saving throw, I steal its bearing until end of my next turn",
				"I have advantage on attack rolls against it",
				"It has disadvantage on saving throws against my shaman spells and features"
			]),
			usages : "Cha mod",
			recovery : "long rest",
			action : [["reaction", ""]]
		},

		// Level 14
		"subclassfeature14" : {
			name : "Shattered Masquerade",
			source : ["DA42:SS", 7],
			minlevel : 14,
			description : desc([
				"Once per long rest, as an action, I unravel false identities for 1 minute",
				"Creatures of my choice within 20 ft can't gain advantage on Deception or Stealth checks",
				"Creatures relying on disguises/false identities/assumed allegiances have disadvantage on saves vs my spells/features",
				"When a creature fails a saving throw against me for the first time on a turn, it's frightened of me until end of its next turn"
			]),
			usages : 1,
			recovery : "long rest",
			action : [["action", ""]]
		}
	}
};
